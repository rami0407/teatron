<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>โจ ููููุฏ ุงูุญูุงุฑุงุช ุงููุฎุตุตุฉ</title>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;900&display=swap" rel="stylesheet">

    <!-- Styles -->
    <link rel="stylesheet" href="../css/main.css">
    <link rel="stylesheet" href="../css/dashboard.css">
    <link rel="stylesheet" href="../css/dialogue-generator.css">
</head>

<body>
    <!-- Navigation -->
    <nav>
        <div class="container">
            <div class="logo">
                <span class="logo-icon">๐ญ</span>
                <span>ูุณุฑุญ ุงูุฏูู STEM</span>
            </div>
            <div class="nav-right">
                <span class="user-greeting">ูุฑุญุจุงู, <strong id="userName">ุงูุทุงูุจ</strong></span>
                <a href="dashboard.html" class="btn btn-outline btn-sm">ุงูุนูุฏุฉ ูููุญุฉ ุงูุชุญูู</a>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="generator-container">
        <div class="generator-header">
            <h1>โจ ููููุฏ ุงูุญูุงุฑุงุช ุงููุฎุตุตุฉ</h1>
            <p class="subtitle">ุณูููู ุจุฅูุดุงุก ุญูุงุฑ ูุณุฑุญู ุฎุงุต ุจู ูุชูุงุกู ูุน ุดุฎุตูุชู ูุงูุชูุงูุงุชู</p>
        </div>

        <!-- Progress Bar -->
        <div class="progress-bar">
            <div class="progress-step active" data-step="1">
                <div class="step-circle">1</div>
                <div class="step-label">ุงูุชูููู ุงูููุณู</div>
            </div>
            <div class="progress-line"></div>
            <div class="progress-step" data-step="2">
                <div class="step-circle">2</div>
                <div class="step-label">ุงูุชูููู ุงูุชุนูููู</div>
            </div>
            <div class="progress-line"></div>
            <div class="progress-step" data-step="3">
                <div class="step-circle">3</div>
                <div class="step-label">ุงูุชูููู ุงูุณูููู</div>
            </div>
            <div class="progress-line"></div>
            <div class="progress-step" data-step="4">
                <div class="step-circle">4</div>
                <div class="step-label">ุงุฎุชูุงุฑ ุงูุฏูู</div>
            </div>
            <div class="progress-line"></div>
            <div class="progress-step" data-step="5">
                <div class="step-circle">5</div>
                <div class="step-label">ุฅุนุฏุงุฏุงุช ุงูุญูุงุฑ</div>
            </div>
        </div>

        <!-- Form Steps -->
        <form id="assessmentForm">
            <!-- Step 1: Psychological Assessment -->
            <div class="form-step active" data-step="1">
                <div class="step-content">
                    <h2>๐ ุงูุชูููู ุงูููุณู</h2>
                    <p class="step-description">ุณุงุนุฏูุง ูู ููู ุญุงูุชู ุงูููุณูุฉ ููุตูุน ูู ุญูุงุฑุงู ููุงุณุจู</p>

                    <div class="question-group">
                        <label class="question-label">ููู ุชุดุนุฑ ุงููููุ</label>
                        <div class="emoji-options">
                            <label class="emoji-option">
                                <input type="radio" name="mood" value="very_happy" required>
                                <span class="emoji">๐</span>
                                <span class="emoji-label">ุณุนูุฏ ุฌุฏุงู</span>
                            </label>
                            <label class="emoji-option">
                                <input type="radio" name="mood" value="happy">
                                <span class="emoji">๐</span>
                                <span class="emoji-label">ุณุนูุฏ</span>
                            </label>
                            <label class="emoji-option">
                                <input type="radio" name="mood" value="neutral">
                                <span class="emoji">๐</span>
                                <span class="emoji-label">ุนุงุฏู</span>
                            </label>
                            <label class="emoji-option">
                                <input type="radio" name="mood" value="sad">
                                <span class="emoji">๐</span>
                                <span class="emoji-label">ุญุฒูู</span>
                            </label>
                            <label class="emoji-option">
                                <input type="radio" name="mood" value="anxious">
                                <span class="emoji">๐ฐ</span>
                                <span class="emoji-label">ููู</span>
                            </label>
                        </div>
                    </div>

                    <div class="question-group">
                        <label class="question-label">ููู ุชูููู ุซูุชู ุจููุณูุ</label>
                        <div class="slider-container">
                            <input type="range" name="confidence" min="1" max="5" value="3" class="slider"
                                id="confidenceSlider">
                            <div class="slider-labels">
                                <span>ููุฎูุถุฉ</span>
                                <span id="confidenceValue">ูุชูุณุทุฉ</span>
                                <span>ุนุงููุฉ ุฌุฏุงู</span>
                            </div>
                        </div>
                    </div>

                    <div class="question-group">
                        <label class="question-label">ูุง ุงูุฐู ููููู ุฃู ูุฎููู ุฃุญูุงูุงูุ (ุงุฎุชุฑ ูุง ููุงุณุจู)</label>
                        <div class="checkbox-options">
                            <label class="checkbox-option">
                                <input type="checkbox" name="fears" value="darkness">
                                <span>๐ ุงูุธูุงู</span>
                            </label>
                            <label class="checkbox-option">
                                <input type="checkbox" name="fears" value="heights">
                                <span>๐๏ธ ุงูุฃูุงูู ุงูุนุงููุฉ</span>
                            </label>
                            <label class="checkbox-option">
                                <input type="checkbox" name="fears" value="public_speaking">
                                <span>๐ค ุงูุชุญุฏุซ ุฃูุงู ุงููุงุณ</span>
                            </label>
                            <label class="checkbox-option">
                                <input type="checkbox" name="fears" value="failure">
                                <span>โ ุงููุดู</span>
                            </label>
                            <label class="checkbox-option">
                                <input type="checkbox" name="fears" value="loneliness">
                                <span>๐ข ุงููุญุฏุฉ</span>
                            </label>
                            <label class="checkbox-option">
                                <input type="checkbox" name="fears" value="none">
                                <span>โจ ูุง ุดูุก ูููููู</span>
                            </label>
                        </div>
                    </div>

                    <div class="question-group">
                        <label class="question-label">ูุง ุงูุฐู ูุฌุนูู ุณุนูุฏุงูุ</label>
                        <textarea name="happiness" rows="3" class="text-input"
                            placeholder="ูุซุงู: ุงููุนุจ ูุน ุฃุตุฏูุงุฆูุ ูุฑุงุกุฉ ุงููุตุตุ ุงูุชุฌุงุฑุจ ุงูุนูููุฉ..."></textarea>
                    </div>
                </div>
            </div>

            <!-- Step 2: Educational Assessment -->
            <div class="form-step" data-step="2">
                <div class="step-content">
                    <h2>๐ ุงูุชูููู ุงูุชุนูููู</h2>
                    <p class="step-description">ุณุงุนุฏูุง ูู ููู ุงูุชูุงูุงุชู ุงูุชุนููููุฉ</p>

                    <div class="question-group">
                        <label class="question-label">ูุง ูู ุตูู ุงูุฏุฑุงุณูุ</label>
                        <select name="grade" class="select-input" required>
                            <option value="">ุงุฎุชุฑ ุงูุตู</option>
                            <option value="1">ุงูุตู ุงูุฃูู</option>
                            <option value="2">ุงูุตู ุงูุซุงูู</option>
                            <option value="3">ุงูุตู ุงูุซุงูุซ</option>
                            <option value="4">ุงูุตู ุงูุฑุงุจุน</option>
                            <option value="5">ุงูุตู ุงูุฎุงูุณ</option>
                            <option value="6">ุงูุตู ุงูุณุงุฏุณ</option>
                        </select>
                    </div>

                    <div class="question-group">
                        <label class="question-label">ูุง ูู ุงูููุงุฏ ุงูููุถูุฉ ูุฏููุ (ุงุฎุชุฑ ุญุชู 3)</label>
                        <div class="checkbox-options">
                            <label class="checkbox-option">
                                <input type="checkbox" name="subjects" value="science">
                                <span>๐ฌ ุงูุนููู</span>
                            </label>
                            <label class="checkbox-option">
                                <input type="checkbox" name="subjects" value="math">
                                <span>๐ข ุงูุฑูุงุถูุงุช</span>
                            </label>
                            <label class="checkbox-option">
                                <input type="checkbox" name="subjects" value="arabic">
                                <span>๐ ุงููุบุฉ ุงูุนุฑุจูุฉ</span>
                            </label>
                            <label class="checkbox-option">
                                <input type="checkbox" name="subjects" value="art">
                                <span>๐จ ุงููููู</span>
                            </label>
                            <label class="checkbox-option">
                                <input type="checkbox" name="subjects" value="technology">
                                <span>๐ป ุงูุชูููููุฌูุง</span>
                            </label>
                            <label class="checkbox-option">
                                <input type="checkbox" name="subjects" value="sports">
                                <span>โฝ ุงูุฑูุงุถุฉ</span>
                            </label>
                        </div>
                    </div>

                    <div class="question-group">
                        <label class="question-label">ููู ุชูุถู ุงูุชุนููุ</label>
                        <div class="radio-options">
                            <label class="radio-option">
                                <input type="radio" name="learningStyle" value="visual" required>
                                <span>๐๏ธ ุฃูุถู ุงูุตูุฑ ูุงูุฑุณููุงุช</span>
                            </label>
                            <label class="radio-option">
                                <input type="radio" name="learningStyle" value="auditory">
                                <span>๐ ุฃูุถู ุงูุงุณุชูุงุน ูุงูุดุฑุญ</span>
                            </label>
                            <label class="radio-option">
                                <input type="radio" name="learningStyle" value="kinesthetic">
                                <span>๐คฒ ุฃูุถู ุงูุชุฌุฑุจุฉ ูุงูุนูู ุงููุฏูู</span>
                            </label>
                            <label class="radio-option">
                                <input type="radio" name="learningStyle" value="reading">
                                <span>๐ ุฃูุถู ุงููุฑุงุกุฉ ูุงููุชุงุจุฉ</span>
                            </label>
                        </div>
                    </div>

                    <div class="question-group">
                        <label class="question-label">ูุง ูู ููุถูุนู ุงูุนููู ุงูููุถูุ</label>
                        <select name="scienceTopic" class="select-input">
                            <option value="">ุงุฎุชุฑ ููุถูุนุงู</option>
                            <option value="space">๐ ุงููุถุงุก ูุงูููุงูุจ</option>
                            <option value="animals">๐ฆ ุงูุญููุงูุงุช ูุงูุทุจูุนุฉ</option>
                            <option value="human_body">๐ซ ุฌุณู ุงูุฅูุณุงู</option>
                            <option value="water_cycle">๐ง ุฏูุฑุฉ ุงูููุงู</option>
                            <option value="plants">๐ฑ ุงููุจุงุชุงุช</option>
                            <option value="weather">โ ุงูุทูุณ ูุงููุตูู</option>
                            <option value="energy">โก ุงูุทุงูุฉ</option>
                            <option value="inventions">๐ก ุงูุงุฎุชุฑุงุนุงุช</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- Step 3: Behavioral Assessment -->
            <div class="form-step" data-step="3">
                <div class="step-content">
                    <h2>๐ญ ุงูุชูููู ุงูุณูููู</h2>
                    <p class="step-description">ุณุงุนุฏูุง ูู ููู ุดุฎุตูุชู ูุทุฑููุฉ ุชูุงุนูู</p>

                    <div class="question-group">
                        <label class="question-label">ูู ุฃูุช ุดุฎุต ูููุชุญ ุฃู ุชูุถู ุงููุฏูุกุ</label>
                        <div class="slider-container">
                            <input type="range" name="introvert" min="1" max="5" value="3" class="slider"
                                id="introvertSlider">
                            <div class="slider-labels">
                                <span>๐คซ ูุงุฏุฆ ูููุทูู</span>
                                <span id="introvertValue">ูุชูุงุฒู</span>
                                <span>๐ฃ๏ธ ูููุชุญ ููุดูุท</span>
                            </div>
                        </div>
                    </div>

                    <div class="question-group">
                        <label class="question-label">ูู ุชูุถู ุงูููุงุฏุฉ ุฃู ุชุญุจ ุฃู ูููุฏู ุงูุขุฎุฑููุ</label>
                        <div class="slider-container">
                            <input type="range" name="leadership" min="1" max="5" value="3" class="slider"
                                id="leadershipSlider">
                            <div class="slider-labels">
                                <span>๐ฅ ุฃูุถู ุงูุชุจุนูุฉ</span>
                                <span id="leadershipValue">ูุชูุงุฒู</span>
                                <span>๐ ุฃุญุจ ุงูููุงุฏุฉ</span>
                            </div>
                        </div>
                    </div>

                    <div class="question-group">
                        <label class="question-label">ููู ุชุชุนุงูู ูุน ุงูุขุฎุฑููุ</label>
                        <div class="slider-container">
                            <input type="range" name="cooperation" min="1" max="5" value="3" class="slider"
                                id="cooperationSlider">
                            <div class="slider-labels">
                                <span>ุฃูุถู ุงูุนูู ูุญุฏู</span>
                                <span id="cooperationValue">ูุชูุงุฒู</span>
                                <span>ุฃุญุจ ุงูุนูู ุงูุฌูุงุนู</span>
                            </div>
                        </div>
                    </div>

                    <div class="question-group">
                        <label class="question-label">ูุง ูู ููุงุท ููุชูุ (ุงุฎุชุฑ ูุง ููุงุณุจู)</label>
                        <div class="checkbox-options">
                            <label class="checkbox-option">
                                <input type="checkbox" name="strengths" value="creative">
                                <span>๐จ ุงูุฅุจุฏุงุน</span>
                            </label>
                            <label class="checkbox-option">
                                <input type="checkbox" name="strengths" value="logical">
                                <span>๐ง ุงูุชูููุฑ ุงูููุทูู</span>
                            </label>
                            <label class="checkbox-option">
                                <input type="checkbox" name="strengths" value="empathy">
                                <span>โค๏ธ ุงูุชุนุงุทู ูุน ุงูุขุฎุฑูู</span>
                            </label>
                            <label class="checkbox-option">
                                <input type="checkbox" name="strengths" value="problem_solving">
                                <span>๐ ุญู ุงููุดููุงุช</span>
                            </label>
                            <label class="checkbox-option">
                                <input type="checkbox" name="strengths" value="communication">
                                <span>๐ฌ ุงูุชูุงุตู</span>
                            </label>
                            <label class="checkbox-option">
                                <input type="checkbox" name="strengths" value="persistence">
                                <span>๐ช ุงููุซุงุจุฑุฉ</span>
                            </label>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Step 4: Puppet Selection -->
            <div class="form-step" data-step="4">
                <div class="step-content">
                    <h2>๐ญ ุงุฎุชูุงุฑ ุงูุฏูู</h2>
                    <p class="step-description">ุงุฎุชุฑ ุฏููุฉ ูุงุญุฏุฉ ุฃู ุฏููุชูู ูุญูุงุฑู ุงููุณุฑุญู</p>

                    <div class="puppet-selection-info">
                        <p>ุนุฏุฏ ุงูุฏูู ุงููุฎุชุงุฑุฉ: <strong id="selectedCount">0</strong> / 2</p>
                    </div>

                    <div class="puppet-gallery" id="puppetGallery">
                        <!-- Puppets will be loaded dynamically -->
                        <div class="loading-puppets">
                            <div class="spinner"></div>
                            <p>ุฌุงุฑู ุชุญููู ุงูุฏูู...</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Step 5: Dialogue Settings -->
            <div class="form-step" data-step="5">
                <div class="step-content">
                    <h2>โ๏ธ ุฅุนุฏุงุฏุงุช ุงูุญูุงุฑ</h2>
                    <p class="step-description">ุงุฎุชุฑ ุชูุงุตูู ุงูุญูุงุฑ ุงูุฐู ุชุฑูุฏู</p>

                    <div class="question-group">
                        <label class="question-label">ุงุฎุชุฑ ูุบุฉ ุงูุญูุงุฑ</label>
                        <div class="language-options">
                            <label class="language-option">
                                <input type="radio" name="language" value="ar" required checked>
                                <span class="language-flag">๐ธ๐ฆ</span>
                                <span class="language-name">ุงูุนุฑุจูุฉ</span>
                            </label>
                            <label class="language-option">
                                <input type="radio" name="language" value="he">
                                <span class="language-flag">๐ฎ๐ฑ</span>
                                <span class="language-name">ืขืืจืืช</span>
                            </label>
                            <label class="language-option">
                                <input type="radio" name="language" value="en">
                                <span class="language-flag">๐ฌ๐ง</span>
                                <span class="language-name">English</span>
                            </label>
                        </div>
                    </div>

                    <div class="question-group">
                        <label class="question-label">ุทูู ุงููุต ุงููุทููุจ</label>
                        <div class="radio-options-horizontal">
                            <label class="radio-option">
                                <input type="radio" name="length" value="short" required>
                                <span>๐ ูุตูุฑ (1-2 ุฏูููุฉ)</span>
                            </label>
                            <label class="radio-option">
                                <input type="radio" name="length" value="medium" checked>
                                <span>๐ ูุชูุณุท (3-5 ุฏูุงุฆู)</span>
                            </label>
                            <label class="radio-option">
                                <input type="radio" name="length" value="long">
                                <span>๐ ุทููู (5-10 ุฏูุงุฆู)</span>
                            </label>
                        </div>
                    </div>

                    <div class="question-group">
                        <label class="question-label">ููุน ุงููุตุฉ ุงูููุถู</label>
                        <div class="story-types">
                            <label class="story-type">
                                <input type="radio" name="storyType" value="educational" required>
                                <div class="type-card">
                                    <span class="type-icon">๐ฌ</span>
                                    <span class="type-name">ุชุนูููู</span>
                                    <span class="type-desc">ูุตุฉ ุชุญุชูู ุนูู ูุนูููุงุช STEM</span>
                                </div>
                            </label>
                            <label class="story-type">
                                <input type="radio" name="storyType" value="comedy">
                                <div class="type-card">
                                    <span class="type-icon">๐</span>
                                    <span class="type-name">ููููุฏู</span>
                                    <span class="type-desc">ูุตุฉ ูุถุญูุฉ ููุฑุญุฉ</span>
                                </div>
                            </label>
                            <label class="story-type">
                                <input type="radio" name="storyType" value="adventure">
                                <div class="type-card">
                                    <span class="type-icon">๐บ๏ธ</span>
                                    <span class="type-name">ูุบุงูุฑุฉ</span>
                                    <span class="type-desc">ูุตุฉ ูููุฆุฉ ุจุงูุฅุซุงุฑุฉ ูุงูุชุดููู</span>
                                </div>
                            </label>
                            <label class="story-type">
                                <input type="radio" name="storyType" value="moral">
                                <div class="type-card">
                                    <span class="type-icon">๐</span>
                                    <span class="type-name">ุฃุฎูุงูู</span>
                                    <span class="type-desc">ูุตุฉ ุชุญูู ูููุงู ูุฃุฎูุงูุงู</span>
                                </div>
                            </label>
                        </div>
                    </div>

                    <div class="question-group">
                        <label class="question-label">ุงูุชุจ ุนููุงู ุงูุญูุงุฑ (ุงุฎุชูุงุฑู)</label>
                        <input type="text" name="title" class="text-input" placeholder="ูุซุงู: ุฑุญูุฉ ุฅูู ุงููุถุงุก">
                    </div>

                    <div class="question-group">
                        <label class="question-label">ููุงุญุธุงุช ุฅุถุงููุฉ (ุงุฎุชูุงุฑู)</label>
                        <textarea name="notes" rows="3" class="text-input"
                            placeholder="ุฃู ุฃููุงุฑ ุฃู ุทูุจุงุช ุฎุงุตุฉ ููุญูุงุฑ..."></textarea>
                    </div>
                </div>
            </div>

            <!-- Navigation Buttons -->
            <div class="form-navigation">
                <button type="button" id="prevBtn" class="btn btn-outline" style="display: none;">ุงูุณุงุจู</button>
                <button type="button" id="nextBtn" class="btn btn-primary">ุงูุชุงูู</button>
                <button type="submit" id="generateBtn" class="btn btn-primary btn-lg" style="display: none;">
                    โจ ุชูููุฏ ุงูุญูุงุฑ
                </button>
            </div>
        </form>
    </div>

    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="loading-overlay" style="display: none;">
        <div class="loading-content">
            <div class="spinner"></div>
            <h3>ุฌุงุฑู ุฅูุดุงุก ุญูุงุฑู ุงููุฎุตุต...</h3>
            <p>ูุฏ ูุณุชุบุฑู ูุฐุง ุจุถุน ุซูุงูู</p>
        </div>
    </div>

    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>

    <!-- Scripts -->
    <script src="../js/firebase-config.js"></script>
    <script src="../js/auth.js"></script>
    <script src="../js/dialogue-generator.js"></script>
</body>

</html>